<?xml version="1.0" encoding="utf-8"?>
<layout
        xmlns:android = "http://schemas.android.com/apk/res/android"
        xmlns:tools = "http://schemas.android.com/tools"
        xmlns:app = "http://schemas.android.com/apk/res-auto"
        >

    <data>

        <variable
                name = "viewModel"
                type = "com.enkhee.forecastmvvm.ui.weather.current.CurrentWeatherViewModel"
                />

        <variable
                name = "callBack"
                type = "com.enkhee.forecastmvvm.ui.weather.current.CurrentWeatherCallBack"
                />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width = "match_parent"
            android:layout_height = "match_parent"
            tools:context = ".ui.weather.current.CurrentWeatherFragment"
            >

        <androidx.constraintlayout.widget.Guideline
                android:id = "@+id/guideline"
                android:layout_width = "wrap_content"
                android:layout_height = "wrap_content"
                android:orientation = "vertical"
                app:layout_constraintGuide_percent = "0.5"
                />

        <androidx.constraintlayout.widget.Group
                android:id = "@+id/group_loading"
                android:layout_width = "wrap_content"
                android:layout_height = "wrap_content"
                android:layout_marginEnd = "8dp"
                app:constraint_referenced_ids = "progressBar_loading, tv_loading"
                app:layout_constraintEnd_toEndOf = "parent"
                app:layout_constraintTop_toTopOf = "parent"
                app:mutableVisibility = "@{viewModel.getLoadingVisibility()}"
                />

        <ProgressBar
                android:id = "@+id/progressBar_loading"
                android:layout_width = "wrap_content"
                android:layout_height = "wrap_content"
                android:layout_marginStart = "8dp"
                android:layout_marginTop = "8dp"
                android:layout_marginEnd = "8dp"
                android:layout_marginBottom = "8dp"
                android:indeterminate = "true"
                app:layout_constraintBottom_toBottomOf = "parent"
                app:layout_constraintEnd_toEndOf = "parent"
                app:layout_constraintStart_toStartOf = "parent"
                app:layout_constraintTop_toTopOf = "parent"
                />

        <TextView
                android:id = "@+id/tv_loading"
                android:layout_width = "wrap_content"
                android:layout_height = "wrap_content"
                android:layout_marginStart = "8dp"
                android:layout_marginTop = "8dp"
                android:layout_marginEnd = "8dp"
                android:layout_marginBottom = "8dp"
                android:text = "Loading..."
                android:textAppearance = '@style/TextAppearance.MaterialComponents.Caption'
                app:layout_constraintBottom_toBottomOf = "parent"
                app:layout_constraintEnd_toEndOf = "parent"
                app:layout_constraintStart_toStartOf = "parent"
                app:layout_constraintTop_toBottomOf = "@+id/progressBar_loading"
                app:layout_constraintVertical_bias = "0.0"
                />

        <TextView
                android:id = "@+id/tv_condition"
                android:layout_width = "wrap_content"
                android:layout_height = "wrap_content"
                android:layout_marginStart = "8dp"
                android:layout_marginTop = "8dp"
                android:layout_marginEnd = "8dp"
                android:layout_marginBottom = "8dp"
                android:textAppearance = "@style/TextAppearance.MaterialComponents.Headline4"
                app:layout_constraintBottom_toBottomOf = "parent"
                app:layout_constraintEnd_toEndOf = "parent"
                app:layout_constraintHorizontal_bias = "0.043"
                app:layout_constraintStart_toStartOf = "parent"
                app:layout_constraintTop_toTopOf = "parent"
                app:layout_constraintVertical_bias = "0.017"
                android:text = "@{viewModel.currentWeather.conditionText}"
                tools:text = "Condition"
                />

        <ImageView
                android:id = "@+id/iv_condition_ic"
                android:layout_width = "wrap_content"
                android:layout_height = "wrap_content"
                android:layout_marginStart = "8dp"
                android:layout_marginTop = "8dp"
                android:layout_marginEnd = "8dp"
                android:layout_marginBottom = "8dp"
                app:layout_constraintBottom_toBottomOf = "parent"
                app:layout_constraintDimensionRatio = "1:1"
                app:layout_constraintEnd_toEndOf = "parent"
                app:layout_constraintHorizontal_bias = "0.593"
                app:layout_constraintStart_toStartOf = "@+id/guideline"
                app:layout_constraintTop_toBottomOf = "@+id/tv_condition"
                app:layout_constraintVertical_bias = "0.207"
                app:layout_constraintWidth_percent = "0.25"
                tools:src = "@drawable/ic_weather_sunny"
                app:profileImage = "@{`http:` + viewModel.currentWeather.conditionIconUrl}"/>

        <TextView
                android:id = "@+id/tv_temperature"
                android:layout_width = "wrap_content"
                android:layout_height = "wrap_content"
                android:layout_marginStart = "8dp"
                android:layout_marginEnd = "8dp"
                android:layout_marginBottom = "8dp"
                android:textAppearance = "@style/TextAppearance.MaterialComponents.Headline2"
                app:layout_constraintBottom_toBottomOf = "@id/iv_condition_ic"
                app:layout_constraintDimensionRatio = "1:1"
                app:layout_constraintEnd_toEndOf = "parent"
                app:layout_constraintHorizontal_bias = "0.0"
                app:layout_constraintEnd_toStartOf = "@id/guideline"
                app:layout_constraintTop_toTopOf = "@+id/iv_condition_ic"
                app:layout_constraintVertical_bias = "1.0"
                android:text = "@{`` + viewModel.currentWeather.temperature + (viewModel.metric? `째C`:`째F`) }"
                tools:text = "0"
                />

        <TextView
                android:id = "@+id/tv_feels_like_temp"
                android:layout_width = "wrap_content"
                android:layout_height = "wrap_content"
                android:layout_marginStart = "8dp"
                android:layout_marginEnd = "8dp"
                android:textAppearance = "@style/TextAppearance.MaterialComponents.Body1"
                app:layout_constraintBottom_toBottomOf = "parent"
                app:layout_constraintEnd_toEndOf = "@id/tv_temperature"
                app:layout_constraintHorizontal_bias = "0.423"
                app:layout_constraintStart_toStartOf = "@id/tv_temperature"
                app:layout_constraintTop_toBottomOf = "@id/tv_temperature"
                app:layout_constraintVertical_bias = "0.0"
                android:text = "@{`Feels Like ` + viewModel.currentWeather.feelsLikeTemperature +  (viewModel.metric? `째C`:`째F`)}"
                />

        <TextView
                android:id = "@+id/tv_wind"
                android:layout_width = "wrap_content"
                android:layout_height = "wrap_content"
                android:layout_marginStart = "8dp"
                android:layout_marginTop = "8dp"
                android:layout_marginEnd = "8dp"
                android:layout_marginBottom = "8dp"
                android:textAppearance = "@style/TextAppearance.MaterialComponents.Headline6"
                app:layout_constraintBottom_toBottomOf = "parent"
                app:layout_constraintEnd_toEndOf = "parent"
                app:layout_constraintHorizontal_bias = "0.028"
                app:layout_constraintStart_toStartOf = "parent"
                app:layout_constraintTop_toTopOf = "parent"
                app:layout_constraintVertical_bias = "0.542"
                android:text =
                        "@{`Wind: ` + viewModel.currentWeather.windDirection + `, ` + viewModel.currentWeather.windSpeed + ` ` + (viewModel.metric? `kph`:`mph`)}"
                />

        <TextView
                android:id = "@+id/tv_precipitation"
                android:layout_width = "wrap_content"
                android:layout_height = "wrap_content"
                android:layout_marginStart = "8dp"
                android:layout_marginTop = "8dp"
                android:layout_marginEnd = "8dp"
                android:layout_marginBottom = "8dp"
                android:textAppearance = "@style/TextAppearance.MaterialComponents.Headline6"
                app:layout_constraintBottom_toBottomOf = "parent"
                app:layout_constraintEnd_toEndOf = "parent"
                app:layout_constraintHorizontal_bias = "0.028"
                app:layout_constraintStart_toStartOf = "parent"
                app:layout_constraintTop_toBottomOf = "@+id/tv_wind"
                app:layout_constraintVertical_bias = "0.0"
                android:text = "@{`Precipitation: ` + viewModel.currentWeather.precipitationVolume + ` ` + (viewModel.metric? `mm`:`in`)}"
                />

        <TextView
                android:id = "@+id/tv_visibility"
                android:layout_width = "wrap_content"
                android:layout_height = "wrap_content"
                android:layout_marginStart = "8dp"
                android:layout_marginTop = "8dp"
                android:layout_marginEnd = "8dp"
                android:layout_marginBottom = "8dp"
                android:textAppearance = "@style/TextAppearance.MaterialComponents.Headline6"
                app:layout_constraintBottom_toBottomOf = "parent"
                app:layout_constraintEnd_toEndOf = "parent"
                app:layout_constraintHorizontal_bias = "0.028"
                app:layout_constraintStart_toStartOf = "parent"
                app:layout_constraintTop_toBottomOf = "@+id/tv_precipitation"
                app:layout_constraintVertical_bias = "0.0"
                android:text =
                        "@{`Visibility: ` + viewModel.currentWeather.visibilityDistance + ` ` + (viewModel.metric? `km`:`mi`)}"
                />
    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>
